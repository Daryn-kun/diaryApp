<div class="centered">
  <form #registerForm="ngForm" (ngSubmit)="onSubmit()" class="form-signin" align="center">
    <h1 *ngIf="id !== undefined; else elseBlock0" class="h3 mb-3 font-weight-normal">Update User</h1>
    <ng-template #elseBlock0>
      <h1 class="h3 mb-3 font-weight-normal">Create New User</h1>
    </ng-template>
    <div class="form-group">
      <div class="row">
        <div class="col">
          <input *ngIf="id !== undefined; else elseBlock1" type="text" #nameRef="ngModel" required class="form-control" placeholder="First name" name="firstname" [(ngModel)]="userDetails.firstName">
          <ng-template #elseBlock1>
            <input type="text" #nameRef="ngModel" required class="form-control" placeholder="First name" name="firstname" [(ngModel)]="userDetailsNew.firstName">
            <div [hidden]="nameRef.valid || nameRef.pristine" class="alert alert-danger">Please enter a name</div>
          </ng-template>
        </div>
        <div class="col">
          <input *ngIf="id !== undefined; else elseBlock2" type="text" class="form-control" placeholder="Last name" name="lastname" [(ngModel)]="userDetails.lastName">
          <ng-template #elseBlock2>
            <input type="text" class="form-control" placeholder="Last name" name="lastname" [(ngModel)]="userDetailsNew.lastName">
          </ng-template>
        </div>
      </div>
    </div>
    <div class="form-group">
      <input *ngIf="id !== undefined; else elseBlock3" type="email" #emailRef="ngModel" required class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
             placeholder="Enter email" name="email" [(ngModel)]="userDetails.email">
      <ng-template #elseBlock3>
        <input type="email" #emailRef="ngModel" required class="form-control" id="exampleInputEmail2" aria-describedby="emailHelp"
               placeholder="Enter email" name="email" [(ngModel)]="userDetailsNew.email">
        <div [hidden]="emailRef.valid || emailRef.pristine" class="alert alert-danger">Please enter an email</div>
        <div *ngIf="!regEmail" class="alert alert-danger">Email already registered</div>
      </ng-template>
      <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
    </div>
    <div class="form-group">
      <input *ngIf="id !== undefined; else elseBlock4" type="password" #passwordRef="ngModel" required class="form-control" id="exampleInputPassword1" placeholder="Password"
             name="password" [(ngModel)]="userDetails.password">
      <ng-template #elseBlock4>
        <input type="password" #passwordRef="ngModel" required class="form-control" id="exampleInputPassword2" placeholder="Password"
               name="password" [(ngModel)]="userDetailsNew.password">
        <div [hidden]="passwordRef.valid || passwordRef.pristine" class="alert alert-danger">Create a password</div>
      </ng-template>
    </div>
    <input *ngIf="id !== undefined; else elseBlock" class="btn btn-lg btn-primary btn-block" type="submit" value="Update Account">
    <ng-template #elseBlock><input class="btn btn-lg btn-primary btn-block" type="submit" value="Create New Account"></ng-template>
  </form>
</div>
